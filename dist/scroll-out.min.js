var ScrollOut=function(){"use strict"
function y(e,t,n){return e<t?t:n<e?n:e}function C(e){return+(0<e)-+(e<0)}var S,t={}
function n(e){return"-"+e[0].toLowerCase()}function o(e){return t[e]||(t[e]=e.replace(/([A-Z])/g,n))}function a(e,t){return e&&0!==e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||document.documentElement).querySelectorAll(e)):[]}function d(e,t){for(var n in t)n.indexOf("_")&&e.setAttribute("data-"+o(n),t[n])}function v(r){return function(e,t){for(var n in t)n.indexOf("_")&&(!0===r||r[n])&&e.style.setProperty("--"+o(n),(n=t[n],Math.round(1e4*n)/1e4))}}var q=[]
function e(){S=0,q.slice().forEach(function(e){return e()}),z()}function z(){!S&&q.length&&(S=requestAnimationFrame(e))}function F(e,t,n,r){return"function"==typeof e?e(t,n,r):e}function h(){}return function(D){var E,P,_,i=(D=D||{}).onChange||h,l=D.onHidden||h,c=D.onShown||h,s=D.onScroll||h,f=D.cssProps?v(D.cssProps):h,e=D.scrollingElement,H=e?a(e)[0]:window,A=e?a(e)[0]:document.documentElement,W=!1,x={},O=[]
function t(){O=a(D.targets||"[data-scroll]",a(D.scope||A)[0]).map(function(e){return{element:e}})}function n(){var e=A.clientWidth,t=A.clientHeight,n=C(-E+(E=A.scrollLeft||window.pageXOffset)),r=C(-P+(P=A.scrollTop||window.pageYOffset)),o=A.scrollLeft/(A.scrollWidth-e||1),i=A.scrollTop/(A.scrollHeight-t||1)
W=W||x.scrollDirX!==n||x.scrollDirY!==r||x.scrollPercentX!==o||x.scrollPercentY!==i,x.scrollDirX=n,x.scrollDirY=r,x.scrollPercentX=o,x.scrollPercentY=i
for(var l,c=!1,s=0;s<O.length;s++){for(var f=O[s],u=f.element,a=u,d=0,v=0;d+=a.offsetLeft,v+=a.offsetTop,(a=a.offsetParent)&&a!==H;);var h=u.clientHeight||u.offsetHeight||0,m=u.clientWidth||u.offsetWidth||0,g=(y(d+m,E,E+e)-y(d,E,E+e))/m,p=(y(v+h,P,P+t)-y(v,P,P+t))/h,w=1==g?0:C(d-E),X=1==p?0:C(v-P),Y=y((E-A.offsetLeft-(m/2+d-e/2))/(e/2),-1,1),b=y((P-A.offsetTop-(h/2+v-t/2))/(t/2),-1,1),L=void 0,L=D.offset?F(D.offset,u,f,A)>P?0:1:(F(D.threshold,u,f,A)||0)<g*p?1:0,u=f.visible!==L;(f._changed||u||f.visibleX!==g||f.visibleY!==p||f.index!==s||f.elementHeight!==h||f.elementWidth!==m||f.offsetX!==d||f.offsetY!==v||f.intersectX!=f.intersectX||f.intersectY!=f.intersectY||f.viewportX!==Y||f.viewportY!==b)&&(f._changed=c=!0,f._visibleChanged=u,f.visible=L,f.elementHeight=h,f.elementWidth=m,f.index=s,f.offsetX=d,f.offsetY=v,f.visibleX=g,f.visibleY=p,f.intersectX=w,f.intersectY=X,f.viewportX=Y,f.viewportY=b,f.visible=L)}_||!W&&!c||(l=T,q.push(l),z(),_=function(){!(q=q.filter(function(e){return e!==l})).length&&S&&(cancelAnimationFrame(S),S=0)})}function T(){u(),W&&(W=!1,d(A,{scrollDirX:x.scrollDirX,scrollDirY:x.scrollDirY}),f(A,x),s(A,x,O))
for(var e=O.length-1;-1<e;e--){var t=O[e],n=t.element,r=t.visible,o=n.hasAttribute("scrollout-once")||!1
t._changed&&(t._changed=!1,f(n,t)),t._visibleChanged&&(d(n,{scroll:r?"in":"out"}),i(n,t,A),(r?c:l)(n,t,A)),r&&(D.once||o)&&O.splice(e,1)}}function u(){_&&(_(),_=void 0)}function r(){o=o||setTimeout(function(){o=0,n()},0)}t(),n(),T()
var o=0
return window.addEventListener("resize",r),H.addEventListener("scroll",r),{index:t,update:n,teardown:function(){u(),window.removeEventListener("resize",r),H.removeEventListener("scroll",r)}}}}()
